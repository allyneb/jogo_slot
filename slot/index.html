<!DOCTYPE html>
<head>
	<meta charset="utf-8" />
	<title>Jogo de Slots</title>
	<link type="text/css" rel="stylesheet" href="style.css" />
	<script type="text/javascript">
		var credito = 0;
		var aux = 0;
		var aposta = 1;
		var nSort = 0;
		var slt1, slt2, slt3;

		function aleatorio(inferior, superior) {
			numPossibilidades = superior - inferior;
			aleat = Math.random() * numPossibilidades;
			aleat = Math.floor(aleat);
			return parseInt(inferior) + aleat;
		}

		function apostaMenos() {
			if (aposta > 1) {
				aposta--;
				document.getElementById('aposta').value = 'R$ ' + aposta;
			}
		}

		function apostaMais() {
			if (aposta < 10) {
				aposta++;
				document.getElementById('aposta').value = 'R$ ' + aposta;
			}
		}

		function verificaPremio() {
			//verifica se ganhou algum prêmio

			//inicio dos prêmios menores			
			if (slt1 == 1 && slt2 == 3 && slt3 == 2) {
				aposta = parseInt(aposta);
				credito = credito + (aposta * 2);
				document.getElementById('credito').value = 'R$ ' + credito;
				window.alert("Parabéns, você ganhou um prêmio de R$ " + aposta * 2 + ".");
			}

			if (slt1 == 1 && slt2 == 2 && slt3 == 3) {
				aposta = parseInt(aposta);
				credito = credito + (aposta * 2);
				document.getElementById('credito').value = 'R$ ' + credito;
				window.alert("Parabéns, você ganhou um prêmio de R$ " + aposta * 2 + ".");
			}


			if (slt1 == 2 && slt2 == 3 && slt3 == 1) {
				aposta = parseInt(aposta);
				credito = credito + (aposta * 2);
				document.getElementById('credito').value = 'R$ ' + credito;
				window.alert("Parabéns, você ganhou um prêmio de R$ " + aposta * 2 + ".");
			}


			if (slt1 == 3 && slt2 == 2 && slt3 == 1) {
				aposta = parseInt(aposta);
				credito = credito + (aposta * 2);
				document.getElementById('credito').value = 'R$ ' + credito;
				window.alert("Parabéns, você ganhou um prêmio de R$ " + aposta * 2 + ".");
			}

			if (slt1 == 3 && slt2 == 1 && slt3 == 2) {
				aposta = parseInt(aposta);
				credito = credito + (aposta * 2);
				document.getElementById('credito').value = 'R$ ' + credito;
				window.alert("Parabéns, você ganhou um prêmio de R$ " + aposta * 2 + ".");
			}

			if (slt1 == 2 && slt2 == 1 && slt3 == 3) {
				aposta = parseInt(aposta);
				credito = credito + (aposta * 2);
				document.getElementById('credito').value = 'R$ ' + credito;
				window.alert("Parabéns, você ganhou um prêmio de R$ " + aposta * 2 + ".");
			}
			//fim dos prêmios menores

			//inicio dos premios maiores
			if (slt1 == 1 && slt2 == 1 && slt3 == 1) {
				aposta = parseInt(aposta);
				credito = credito + (aposta * 5);
				document.getElementById('credito').value = 'R$ ' + credito;
				window.alert("Parabéns, você ganhou um prêmio de R$ " + aposta * 5 + ".");
			}

			if (slt1 == 2 && slt2 == 2 && slt3 == 2) {
				aposta = parseInt(aposta);
				credito = credito + (aposta * 10);
				document.getElementById('credito').value = 'R$ ' + credito;
				window.alert("Parabéns, você ganhou um prêmio de R$ " + aposta * 10 + ".");
			}

			if (slt1 == 3 && slt2 == 3 && slt3 == 3) {
				aposta = parseInt(aposta);
				credito = credito + (aposta * 20);
				document.getElementById('credito').value = 'R$ ' + credito;
				window.alert("Parabéns, você ganhou um prêmio de R$ " + aposta * 20 + ".");
			}

			if (slt1 == 4 && slt2 == 4 && slt3 == 4) {
				aposta = parseInt(aposta);
				credito = credito + (aposta * 50);
				document.getElementById('credito').value = 'R$ ' + credito;
				window.alert("Parabéns, você ganhou um prêmio de R$ " + aposta * 50 + ".");
			}
			//fim dos prêmios maiores
		}

		function jogar() {
			if (credito < 1 || credito < aposta) {
				aux = window.prompt("Coloque mais créditos e, por favor, digite a quantidade em R$:", "1");
				aux = parseInt(aux);
				credito = parseInt(credito);
				credito = credito + aux;
				document.getElementById('credito').value = 'R$ ' + credito
			}
			else {
				if (credito > 0 && credito >= aposta) {
					credito = credito - aposta;
					document.getElementById('credito').value = 'R$ ' + credito;
					document.getElementById('fruta1').src = 'img/roleta.gif';
					document.getElementById('fruta2').src = 'img/roleta.gif';
					document.getElementById('fruta3').src = 'img/roleta.gif';


					//processamento do slot1
					nSort = aleatorio(1, 4);
					switch (nSort) {
						case 1:
							cont = setTimeout("document.getElementById('fruta1').src = 'img/uva.png'", 4000);
							slt1 = 1;
							break;
						case 2:
							cont = setTimeout("document.getElementById('fruta1').src = 'img/laranja.png'", 4000);
							slt1 = 2;
							break;
						case 3:
							cont = setTimeout("document.getElementById('fruta1').src = 'img/morango.png'", 4000);
							slt1 = 3;
							break;
					}

					//processamento do slot2
					nSort = aleatorio(1, 4);
					switch (nSort) {
						case 1:
							cont = setTimeout("document.getElementById('fruta2').src = 'img/uva.png'", 6000);
							slt2 = 1;
							break;
						case 2:
							cont = setTimeout("document.getElementById('fruta2').src = 'img/laranja.png'", 6000);
							slt2 = 2;
							break;
						case 3:
							cont = setTimeout("document.getElementById('fruta2').src = 'img/morango.png'", 6000);
							slt2 = 3;
							break;
					}

					//processamento do slot3
					nSort = aleatorio(1, 4);
					switch (nSort) {
						case 1:
							cont = setTimeout("document.getElementById('fruta3').src = 'img/uva.png'", 7000);
							slt3 = 1;
							break;
						case 2:
							cont = setTimeout("document.getElementById('fruta3').src = 'img/laranja.png'", 7000);
							slt3 = 2;
							break;
						case 3:
							cont = setTimeout("document.getElementById('fruta3').src = 'img/morango.png'", 7000);
							slt3 = 3;
							break;
					}


					cont = setTimeout("verificaPremio()", 9000);
				}
			}
		}
	</script>
</head>

<body>

	<div id="corpo">

		<div id="creditos_txt">
			Créditos
		</div>

		<div id="creditos">
			<form>
				<input id="credito" type="text" size="5" value="R$ 0" readonly />
			</form>
		</div>

		<div id="valor_txt">
			Valor da Aposta
		</div>

		<div id="valor">
			<form>
				<input id="aposta" type="text" size="1" value="R$ 1" readonly />
			</form>
		</div>

		<div id="tela">
			<div id="slot1">
				<img id="fruta1" src="img/uva.png" />
			</div>
			<div id="slot2">
				<img id="fruta2" src="img/laranja.png" />
			</div>
			<div id="slot3">
				<img id="fruta3" src="img/morango.png" />
			</div>

		</div>

		<div id="botoes">
			<img src="img/apostamenos.gif" onMouseDown="this.src='img/apostamenos_p.gif';"
				onMouseUp="this.src='img/apostamenos.gif';" onclick="apostaMenos();" />
			<img src="img/apostamais.gif" onMouseDown="this.src='img/apostamais_p.gif';"
				onMouseUp="this.src='img/apostamais.gif';" onclick="apostaMais();" />
			<img src="img/jogar.gif" onMouseDown="this.src='img/jogar_p.gif';" onMouseUp="this.src='img/jogar.gif';"
				onclick="jogar();" />
		</div>

		<div id="rodapé">
		<p style = "text-indent: 200px;"><a href="tabela.html" target='_blank'>Clique no link para acessar a tabela de prêmios!</a></p>
		</div>

	</div>

</body>

</html>